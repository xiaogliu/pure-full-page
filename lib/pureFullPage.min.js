"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var utils={getWheelDelta:function(t){return t.wheelDelta?(this.getWheelDelta=function(t){return t.wheelDelta},t.wheelDelta):(this.getWheelDelta=function(t){return-t.detail},-t.detail)},throttle:function(n,s,o){var a=!1;return function(){if(!a){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.apply(s,e),a=!0,setTimeout(function(){a=!1},o)}}},deleteClassName:function(t,e){t.classList.contains(e)&&t.classList.remove(e)},debounce:function(e,i,n){function s(){var t=(new Date).getTime()-c;t<i&&0<=t?o=setTimeout(s,i-t):(o=null,n||(u=e.apply(r,a),o||(r=a=null)))}var o,a,r,c,u;return function(){r=this,a=arguments,c=(new Date).getTime();var t=n&&!o;return o=o||setTimeout(s,i),t&&(u=e.apply(r,a),r=a=null),u}},polyfill:function(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},writable:!0,configurable:!0})}},PureFullPage=function(){function e(t){_classCallCheck(this,e);utils.polyfill(),this.options=Object.assign({isShowNav:!0,definePages:function(){}},t),this.options.definePages=this.options.definePages.bind(this),this.container=document.querySelector("#pureFullPage"),this.pages=document.querySelectorAll(".page"),this.pagesNum=this.pages.length,this.navDots=[],this.viewHeight=document.documentElement.clientHeight,this.currentPosition=0,this.startY=void 0,this.init()}return _createClass(e,[{key:"getNewPosition",value:function(){var i;this.viewHeight=document.documentElement.clientHeight,this.container.style.height="".concat(this.viewHeight,"px"),this.navDots.forEach(function(t,e){t.classList.contains("active")&&(i=e)}),this.currentPosition=-(i*this.viewHeight),this.turnPage(this.currentPosition)}},{key:"turnPage",value:function(t){this.container.style.top="".concat(t,"px")}},{key:"changeNavStyle",value:function(t){var e;this.options.isShowNav&&(this.navDots.forEach(function(t){utils.deleteClassName(t,"active")}),e=-(t/this.viewHeight),this.navDots[e].classList.add("active"))}},{key:"createNav",value:function(){var i=this,t=document.createElement("div");t.className="nav",this.container.appendChild(t);for(var e=0;e<this.pagesNum;e++)t.innerHTML+='<p class="nav-dot"><span></span></p>';var n=document.querySelectorAll(".nav-dot");this.navDots=Array.prototype.slice.call(n),this.navDots[0].classList.add("active"),this.navDots.forEach(function(t,e){t.addEventListener("click",function(){i.currentPosition=-(e*i.viewHeight),i.options.definePages(),i.turnPage(i.currentPosition),i.navDots.forEach(function(t){utils.deleteClassName(t,"active")}),t.classList.add("active")})})}},{key:"goUp",value:function(){-this.container.offsetTop>=this.viewHeight&&(this.currentPosition=this.currentPosition+this.viewHeight,this.turnPage(this.currentPosition),this.changeNavStyle(this.currentPosition),this.options.definePages())}},{key:"goDown",value:function(){-this.container.offsetTop<=this.viewHeight*(this.pagesNum-2)&&(this.currentPosition=this.currentPosition-this.viewHeight,this.turnPage(this.currentPosition),this.changeNavStyle(this.currentPosition),this.options.definePages())}},{key:"scrollMouse",value:function(t){utils.getWheelDelta(t)<0?this.goDown():this.goUp()}},{key:"touchEnd",value:function(t){t.changedTouches[0].pageY-this.startY<0?this.goDown():this.goUp()}},{key:"init",value:function(){var e=this;this.container.style.height="".concat(this.viewHeight,"px"),this.options.isShowNav&&this.createNav();var t=utils.debounce(this.scrollMouse.bind(this),40,!0);-1===navigator.userAgent.toLowerCase().indexOf("firefox")?document.addEventListener("mousewheel",t):document.addEventListener("DOMMouseScroll",t),document.addEventListener("touchstart",function(t){e.startY=t.touches[0].pageY});var i=utils.throttle(this.touchEnd,this,500);document.addEventListener("touchend",i),document.addEventListener("touchmove",function(t){t.preventDefault()});var n=utils.debounce(this.getNewPosition.bind(this),200);window.addEventListener("resize",n)}}]),e}();